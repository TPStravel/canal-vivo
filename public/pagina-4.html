<!-- ... todo seu código acima permanece igual -->

    </div> <!-- fim de .cards-container -->
    
    <!-- BLOCO GPT INTEGRADO -->
    <div style="margin-top: 40px; text-align: center;">
      <input type="text" id="mensagem" placeholder="Digite sua dúvida..." style="width: 60%; padding: 10px; font-size: 16px;">
      <br><br>
      <button onclick="enviarMensagem()" style="padding: 10px 20px; font-size: 16px; cursor: pointer;">Simular agora</button>
      <div id="resposta" style="margin-top: 20px; color: white; font-size: 18px;"></div>
    </div>
    <!-- FIM BLOCO GPT -->
    
  </div> <!-- fim de .overlay -->

  <script>
    document.querySelectorAll('.card-btn').forEach(btn => {
      const lang = new URLSearchParams(window.location.search).get('lang');
      if (lang) {
        const currentHref = btn.getAttribute('href');
        const separator = currentHref.includes('?') ? '&' : '?';
        btn.setAttribute('href', `${currentHref}${separator}lang=${lang}`);
      }
    });

    async function enviarMensagem() {
      const input = document.getElementById('mensagem');
      const mensagem = input.value.trim();
      const respostaEl = document.getElementById('resposta');

      if (!mensagem) {
        respostaEl.innerText = "Por favor, escreva algo.";
        return;
      }

      respostaEl.innerText = "⏳ Simulando...";

      try {
        const res = await fetch('/api/gpt', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ message: mensagem })
        });

        const data = await res.json();
        respostaEl.innerText = data.reply || "❌ Nenhuma resposta recebida.";
      } catch (err) {
        respostaEl.innerText = "❌ Erro ao se conectar com o servidor.";
      }
    }
  </script>
</body>
</html>
