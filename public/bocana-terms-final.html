
<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <title data-key="titulo">BOCANA – Termos e Privacidade</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      background-color: #121212;
      color: white;
      font-family: Arial, sans-serif;
      padding: 40px;
      line-height: 1.6;
      text-align: center;
    }
    .container {
      max-width: 900px;
      margin: 0 auto;
      text-align: left;
    }
    h1, h2 {
      text-align: center;
      color: #2ea6ff;
    }
    ul {
      padding-left: 20px;
    }
    .btn {
      background-color: #2ea6ff;
      color: white;
      padding: 12px 24px;
      font-size: 16px;
      font-weight: bold;
      border: none;
      border-radius: 30px;
      cursor: pointer;
      display: block;
      margin: 40px auto;
    }
    .btn:hover {
      background-color: #1a90d5;
    }
  </style>
</head>
<body>
  <h1 data-key="titulo">BOCANA – Termos e Privacidade</h1>
  <div class="container">
    <p>O <strong>Bocana</strong> oferece recomendações sensoriais com base no seu estado emocional e experiências alimentares simbólicas.</p>
    <button class="btn" onclick="aceitarEAvancarFirestore('bocana-inicio.html', 'bocana')" data-key="botao">
      Aceitar e Continuar
    </button>
  </div>

  <script src="https://cdn.jsdelivr.net/gh/tps-labs/lang-switch@latest/lang-switch.min.js"></script>
  <script>
    const lang = new URLSearchParams(window.location.search).get('lang') || 'pt';
    loadLang(lang);
  </script>

  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyBCzO9jhE9Fz7Lkn_VFObc135sPaacpZJU",
      authDomain: "canal-vivo-4cd4a.firebaseapp.com",
      projectId: "canal-vivo-4cd4a",
      storageBucket: "canal-vivo-4cd4a.appspot.com",
      messagingSenderId: "1083445191655",
      appId: "1:1083445191655:web:c6c7915bf02979c10af342"
    };
    const app = firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    function aceitarEAvancarFirestore(destino, mundo) {
      let user_id = localStorage.getItem('user_id');
      if (!user_id) {
        user_id = 'user-' + Math.random().toString(36).substring(2, 10);
        localStorage.setItem('user_id', user_id);
      }
      const data = {
        user_id: user_id,
        idioma: lang,
        mundo: mundo,
        data_consentimento: new Date().toISOString()
      };
      db.collection("usuarios").add(data)
        .then(() => {
          window.location.href = destino + '?lang=' + lang;
        })
        .catch((error) => {
          alert("Erro ao salvar os dados.");
          console.error(error);
        });
    }
  </script>
</body>
</html>
